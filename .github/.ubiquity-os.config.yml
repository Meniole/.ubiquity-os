name: Conversation rewards
description: Rewards users for participating in conversations on issues and pull requests.
commands:
  reward:
    ubiquity:example: "/reward @username 10"
    description: Reward a user for their contribution to the conversation.
    parameters:
      type: object
      properties:
        username:
          type: string
          description: The GitHub username to reward.
        amount:
          type: number
          description: The amount of reward to give.
    examples:
      - commandInvocation: "/reward @user123 10"
        parameters:
          username: user123
          amount: 10

ubiquity:listeners:
  - issue_comment.created
  - pull_request_review_comment.created
  - issues.assigned

configuration:
  default: {}
  type: object
  properties:
    rewardPerWord:
      default: 0.001
      type: number
      description: The amount of reward per word in a comment.
    rewardPerCharacter:
      default: 0.0001
      type: number
      description: The amount of reward per character in a comment.
    minWordsForReward:
      default: 5
      type: number
      description: The minimum number of words a comment must have to be eligible for reward.
    excludedUsers:
      default: []
      type: array
      description: Users who are excluded from receiving rewards (e.g., bots).
    allowedRoles:
      default: ["collaborator", "contributor"]
      type: array
      description: Which roles are allowed to receive rewards.
    rewardMultipliers:
      default:
        collaborator: 1.5
        contributor: 1.0
      type: object
      description: Multiplier to apply based on user role.
